- 리팩토링에서의 브릿지 패턴

자바스크립트는 추상화 클래스를 제공하지 않지만 추상클래스와 구현클래스를 적절히 활용해서 구현할 수 있습니다.

- 스프링 객체 생성에서의 정적 팩토리 메서드 패턴

네 프로젝트에서 객체를 생성할 때와, 리스트 형식을 entity로 변환할 때 정적 패토리 메서드 패턴을 사용했었습니다.

why?

이렇게 생성자에 파라미터를 넘기는 기법을 사용해서 변경이 필요없는 필드에 추가적인 setter를 외부에 노출하는 것을 막기 위해서 사용했던 것 같습니다. 생성 이후에 변경할 필요가 없는데 setter가 외부에 노출되어 있으면 이를 사용하는 다른 개발자들은 이를 호출해야 할지 말지 고민하게 되고 사이드 이펙트가 발생할 가능성을 줄이기 위함이었습니다.

또한, 의미있는 이름을 사용해서 객체 생성에 대한 의미를 쉽게 알아보기 하기 위함이었습니다.

> 정적 팩토리 메서드 패턴과 팩토리 메서드 패턴은 다르다!

- 스레드를 어떻게 더 효율적으로?

먼저 프로젝트는 구조는 iot보드와 ,태블릿 , 휴대폰에서 들어오는 요청을 나누기 위해서 세 개의 쓰레드를 생성했습니다. 그리고 세 개의 각 쓰레드에서 들어오는 로그인 요청마다 새로운 쓰레드를 만들고 실행시키는 구조였습니다.

하지만 매번 각 스레드에서 요청이 올때마다 세부 스레드를 생성하고 해제하는 것은 비효율적이라고 생각해서 개선된 방법으로는 자바의 스레드 풀을 활용하는 방법이 있을 것 같습니다. 자바에서 지원하는 ExecutorService 클래스를 이용해서 미리 몇 개의 스레드를 만들어 놓고 요청이 왔을 때 할당하는 방식으로 개선할 것 같습니다.

> start() 메소드를 호출해야 각 스레드가 독립적인 호출 스택을 갖게 된다.

- DDD가 뭐고 이를 프로젝트에 어떻게 적용했나요?

도메인의 사전적의미는 "정보와 활동의 영역" 이고 다른 말로는 실세계에서 사건이 발생하는 집합입니다.

어떤 웹 서비스를 만들 때 회원을 가입하고 회원을 탈퇴하는 일련의 작업들은 회원과 관련된 인련의 작업들이기 때문에 "회원"이라는 도메인으로 볼 수 있습니다.

DDD라고 하는 것은 핵심 도메인과 그 기능에 집중하는 것입니다. DDD의 특징으로는 같은 객체가 여러 개 존재할 수 있습니다. 쇼핑몰을 예로 주문 도메인에서 옷이라는 것은 손님들에게 팔기 위한 객체 정보 이지만, 옷을 관리하는 도메인에서는 점주입장에서 관리하기 위한 객체 정보입니다. 즉, 문맥에 따라서 객체의 역할이 바뀐다는 것입니다.

저는 DDD를 구현하기 위해 기존 쇼핑몰 프로젝트에서 상품과 주문 이라는 도메인으로 나누어서 서로 다른 어플리케이션으로 분리하여서 개발하였습니다. 각 서비스에서는 총 4가지 레이어로 철저하게 분리 개발하며 DDD를 구현했습니다.

- DDD의 네 가지 레이어?

먼저 비즈니스 로직의 핵심이 되는 계층인 Domain Layer는 Entity나 VO를 활용해서 도메인 로직이 진행되는 계층입니다.
*1. 기존의 도메인 모델은 단지 DTO의 역할을 하거나 데이터 홀더이지만 DDD에서의 도메인 레이어는 모든 도메인 정보와 기능과 로직과 룰이 이 레이어에 집중되고 관리되는 것이다.*
*2. 또한, 기존에 Service Layer에서 하던 Data Access Layer에 연동하던작업을 이제는 Domain Layer가 직접한다.*

그리고 Application Layer가 있습니다. 주로 도메인과 Repository를 바탕으로 실제 서비스를 제공하고 다른 시스템의 어플리케이션 계층과 상호작용하는 계층입니다.

그리고 Infrastructure Layer라고 해서 데이터베이스나 외부 기술, 라이브러리를 담당하는 계층입니다. 이는 도메인을 오염시키지 않아야 합니다.

여기에 추가로 사용자에게 화면을 보여주고 세션을 관리하는 Presentation Layer가 있습니다.

> 스프링의 핵심가치는 객체지향이다. DDD의 그것 또한 이와 유사하다고 생각하는데 소프트웨어 설계라는 것이 존재했던 초기부터 가장 기초가 되는 기본개념이라고 생각했습니다.
>
> 객체는 흔히 상태와 행위로 구성되어 있는 것이고 DDD의 핵심가치와 비슷하다고 생각합니다.



- 왜 11번가에 지원했는가?

제가 개발자로서 회사를 선택했던 기준은 두가지가 있었습니다.

먼저 실제로 자체 서비스를 개발하면서 지역사회에 직접 공헌을 할 수 있는 회사였고,

두번째로는 대규모 트래픽이 발생하는 환경에서 제가 개선할 수 있는 부분이 있으면 좋겠다고 생각했습니다.

또 추가적으로 11번가가 최근에 ~~ 한 투자로 몸집을 키우는 것으로 알고 있는데 이러한 부분에서도 회사의 성장 과정에서 개발자로서 얻을 수 있는 인사이트가 많을 것이라고 생각했습니다.

또 11번가는 예전부터 저희 가족이 쓰는 서비스이기도 했기 때문에 좀 더 보람차게 일을 할 수 있을 것 같아 지원하였습니다.

- Component와 Configuration의 차이

`@Component` 어노테이션은 개발자가 직접 작성한 클래스를 bean으로 등록할 때 사용하고

`@Configuration` 어노테이션은 외부라이브러리나 내장 클래스를 bean으로 등록할 때 `@Bean` 어노테이션과 함께 사용합니다. 1개 이상의 빈을 제공하는 클래스는 반드시 `@Configuration`을 명시해야 합니다.

- Configuration과 Configuratble의 차이

제가 알기로는 Configuration은 외부라이브러리나 내장 클래스를 bean으로 등록할 때 사용하는 것이고,

`@Configurable`에 대해서 잘은 알지 못하지만 Spring 2.0부터 생겨난 것으로 DDD를 위해서 LTW를 활용한 DI 방식을 위한 어노테이션으로 알고 있습니다. 스프링의 빈은 싱글톤이여서 한번 생성하면 변경되지 않는데 수많은 도메인 오브젝트에게 의존성 주입을 적용시킬 수 없습니다. 그래서 도메인 오브젝트에게도 스프링이 제공하는 주입방식을 그대로 이용할 수 있도록 나온것입니다.

LTW는 기존 위빙과는 다르게 클래스가 로딩되는 시점에서 바이트 코드를 조작해서 AOP가 적용되게 된다.